<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Post Details</title>
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <link rel="icon" type="image/x-icon" href="https://www.redditstatic.com/desktop2x/img/favicon/apple-icon-180x180.png">
  <link rel="stylesheet" type="text/css" crossorigin="anonymous"  href="src/css/index.css"></link>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"></link>
  <script src="src/js/post.js"></script>
  <script>
        getPostDetail();
        function changesort(){
        getPostDetail();
        }
        navigation.addEventListener('navigate', (event) => {
        checkBatchSend();
});
    </script>

</head>
<body style="padding:0px;">
<input hidden id="depth" value="4"></input>
<div class="sidebar">
  <a class="active" href="#">Home</a>
  <a href="myposts.html">My Posts</a>
  <a href="messages.html">Messages</a>
  <a onclick="logout()" href="#">Logout</a>
</div>
<div class="modalArea" id="modalArea">
  <div class="modal">
    <h2>Create Comment</h2>
    <textarea placeholder="Enter Your Post Here" id="createPostInput" class="textAreaSize"></textarea>
    <div>
      <button onclick="closeCreateComment()" class="cancelBtn">Cancel</button>
      <button onclick="publishComment()" class="publishPost">Publish</button>
    </div>
  </div>
</div>
<div class="modalArea" id="modalChildArea">
  <div class="modal">
    <h2>Create Comment</h2>
    <input id="childCommentId" hidden value=""></input>
    <textarea placeholder="Enter Your Post Here" id="createChildPostInput" class="textAreaSize"></textarea>
    <div>
      <button onclick="closeChildCreateComment()" class="cancelBtn">Cancel</button>
      <button onclick="publishChildComment()" class="publishPost">Publish</button>
    </div>
  </div>
</div>
<div class="modalArea" id="modalEditArea">
  <div class="modal">
    <h2>Edit Comment</h2>
    <input id="editCommentId" hidden value=""></input>
    <textarea placeholder="Enter Your Post Here" id="EditCommentInput" class="textAreaSize"></textarea>
    <div>
      <button onclick="closeEditComment()" class="cancelBtn">Cancel</button>
      <button onclick="publishEditComment()" class="publishPost">Publish</button>
    </div>
  </div>
</div>
<div class="modalArea" id="modalDeleteArea">
  <div class="modal">
    <h2>Confirm Delete Comment</h2>
    <input id="deleteCommentId" hidden value=""></input>
    <textarea style="background-color:#e4e4e4;" disabled placeholder="Enter Your Post Here" id="deleteCommentInput" class="textAreaSize"></textarea>
    <div>
      <button onclick="closeDeleteComment()" class="cancelBtn">Cancel</button>
      <button onclick="deleteComment()" class="publishPost">Delete</button>
    </div>
  </div>
</div>
<a class="goBack" href="home.html">Go back</a>

<div style="height: calc(100vh - 10px);" id="messageArea" class="messageArea">
  <div class="parentPostArea">
    <div style="cursor:default;box-shadow: 0px 0px 0px 1px grey;" id="postId" class="posts">
      <h3 id="postOwner"></h3>
      <span id="postedTime"></span>
      <p id="postContent" class="postContent"></p>
      <div id="postButtonTag" class="details">
        <p id="postLikes"></p>
        <p id="postDisLikes"></p>
        <div style="display: flex;gap: 20px;" id="LikesCont"></div>
        <p id="postComments"></p>
        <p onclick="openCreateComment()" style="font-size: 17px;font-style: italic;cursor:pointer;color: blue;text-decoration: underline;">Comment</p>
      </div>
    </div>
  </div>
  <select style="position: relative;top: 0px;right: 0px;margin: 15px;" id="sortType" onchange="changesort()" value="default" class="selectBox">
    <option value="default">Default</option>
    <option value="top">Top Comments</option>
    <option value="new">New Comments</option>
  </select>
  <div style="overflow-x:auto;" id="commentAreaBox">
  </div>
</div>

</body>
</html>